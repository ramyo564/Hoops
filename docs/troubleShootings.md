# 트러블슈팅 통합 정리

## Backend

| 날짜 | 문서 | 문제 | 해결 | 결과 | 기능(도메인) | 한 줄 요약 |
| --- | --- | --- | --- | --- | --- | --- |
| 2024-06-23 | `README.md` (기여 1. 실시간 채팅, commit `7977671`) | 신규 입장자의 과거 대화 이력을 공용 `Topic`으로 보내 기존 사용자에게도 중복 전송됨 | 공용 `Topic`(`/topic/chat/room/{roomId}`)과 개인 `Queue`(`/queue/chat/room/{userId}`)로 전송 채널 분리 | 신규 입장자에게만 과거 메시지 전달, 기존 사용자 중복 수신 제거 | 채팅(WebSocket/STOMP) | 신규 입장자 이력 전송 문제를 채널 분리로 해결해 실시간 채팅 정확성과 UX를 개선했습니다. |
| 2024-05-06 | `README.md` (기여 2. 동적 검색/필터링, commit `8468305`) | 조건별 경기 조회 API/응답이 분산되면 코드 중복과 프론트 처리 복잡도 증가 | `GET /api/games` 단일 엔드포인트 + `Specification` 기반 동적 쿼리 + 공통 DTO(`PageGameSearchResponses`) 도입 | 백엔드 재사용성 향상, 프론트는 일관된 응답 모델로 구현 가능 | 경기 검색/필터링 API | 단일 API와 공통 DTO로 동적 필터링을 표준화해 백엔드/프론트 협업 효율을 높였습니다. |
| 2024-05-14 ~ 2024-05-27 | `README.md` (기여 3. 보안 시스템, commits `a99a4e7`, `590eaea`) | 무분별한 CORS 허용 위험과 기간 기반 사용자 제재 자동화 부재 | CORS 화이트리스트 정책 수립 + `BlackListUserEntity(startDate/endDate)` 및 실시간 차단 로직 구현 | 비인가 출처 차단, 기간 기반 제재/해제 운영 가능 | API 보안(CORS/Blacklist) | 외부 접근 제어와 내부 악성 사용자 제재를 결합한 다층 보안 체계를 구축했습니다. |
| 2024-05-12 | `README.md` (기여 4. 매너포인트/신고, commit `83c9195`) | 매너 점수 동시 업데이트 시 레이스 컨디션으로 데이터 정합성 훼손 가능 | `@Lock(LockModeType.PESSIMISTIC_WRITE)` 적용 + 점수 변경 로직 엔티티 캡슐화 | 동시성 환경에서도 점수 누락 없이 일관된 업데이트 보장 | 매너 포인트 시스템 | 동시성 문제를 비관적 락으로 제어해 매너 점수 정합성을 확보했습니다. |
| 2024-05-13 | `README.md` (기여 4. 신고/SSE, commit `9b1b7ce`) | 신고 접수 시 관리자가 즉시 인지하지 못해 대응 지연 | 중복 신고 검증 후 `ReportEntity` 저장 + SSE 기반 관리자 실시간 알림 연동 | 관리자 즉시 대응 체계 확보, 블랙리스트 판단 근거 데이터 축적 | 신고/운영 알림 시스템 | 신고 워크플로우와 SSE 알림을 연결해 운영 대응 속도와 공정성을 높였습니다. |
| 2024-05-27 | `README.md` (기여 5. 인증 컴포넌트, commit `590eaea`) | 인증 로직 분산과 WebSocket Handshake 인가 누락으로 보안 공백 발생 | `JwtTokenExtract` 컴포넌트 중앙화 + `ChannelInterceptor`에서 토큰 파싱/게임 참여 인가 검증 | 인증·인가된 사용자만 채팅 연결 허용, WebSocket 보안 취약점 차단 | 인증/인가(WebSocket 보안) | 재사용 가능한 인증 컴포넌트를 확장해 WebSocket 보안 공백을 해소했습니다. |

## Frontend

| 날짜 | 문서 | 문제 | 해결 | 결과 | 기능(도메인) | 한 줄 요약 |
| --- | --- | --- | --- | --- | --- | --- |
| 2024-05-06 | `README.md` (기여 2. 동적 검색/필터링, commit `8468305`) | 프론트가 화면별로 다른 경기 목록 응답 형식을 처리해야 하는 부담 | 백엔드에서 공통 응답 DTO(`PageGameSearchResponses`)를 제공하도록 설계 | 프론트는 단일 데이터 모델로 여러 화면 구현 가능 | 백엔드-프론트 연동 | 프론트 직접 개발보다는 API 응답 표준화 기여를 통해 연동 복잡도를 낮췄습니다. |

## DevOps

| 날짜 | 문서 | 문제 | 해결 | 결과 | 기능(도메인) | 한 줄 요약 |
| --- | --- | --- | --- | --- | --- | --- |
| 2024-08-03 | `README.md` (기여 6. Docker 표준화, commit `675cfb9`) | 팀원별 개발 환경 차이와 의존성 버전 차이로 로컬 실행 실패 빈발 | `Dockerfile`/`docker-compose.yml` 기반 표준화 + Multi-stage build 적용 | 이미지 크기 약 `600MB -> 250MB`(약 58% 감소), 환경 차이 이슈 완화 | 개발/배포 환경 표준화 | Docker 기반 표준화와 경량 이미지 전략으로 배포 효율과 환경 일관성을 확보했습니다. |
| 2024-08-08 | `README.md` (기여 6. CI/CD 자동화, commit `fbdc668`) | EC2 수동 배포 반복으로 배포 지연과 협업 대기 발생 | GitHub Actions로 빌드/푸시/EC2 배포 자동화(`.github/workflows/hoops-backend-build-and-push.yml`) | 배포 시간 `15분+ -> 3분 이내` 단축 | CI/CD 파이프라인 | 수동 배포를 자동화해 배포 리드타임을 크게 줄이고 팀 개발 흐름을 개선했습니다. |
| 2024-08-03 | `README.md` (기여 6. 인프라 비용 최적화, commit `675cfb9`) | ElastiCache, RDS Public IP 사용으로 비용 부담 및 테스트 서버 운영 불안정 | RDS Private 통신 전환 + Redis를 EC2 내 컨테이너로 운영 | 월 인프라 비용 약 `80%` 절감, 테스트 환경 안정성 향상 | AWS 인프라 최적화 | 네트워크/캐시 구성을 재설계해 비용을 줄이면서 운영 안정성을 높였습니다. |
